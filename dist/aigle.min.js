(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,r.Promise=e()}})(function(){return function _(c,e,t){function r(i,s){if(!e[i]){if(!c[i]){var o="function"==typeof require&&require;if(!s&&o)return o(i,!0);if(l)return l(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var n=e[i]={exports:{}};c[i][0].call(n.exports,function(l){var e=c[i][1][l];return r(e?e:l)},n,n.exports,_,c,e,t)}return e[i].exports}for(var l="function"==typeof require&&require,i=0;i<t.length;i++)r(t[i]);return r}({1:[function(e,r){"use strict";e("setimmediate"),r.exports=e("./lib/aigle")},{"./lib/aigle":2,setimmediate:80}],2:[function(e,r){(function(l){"use strict";function t(e){const r=new E(y);return r._resolved=1,r._value=e,r}function i(r){f&&wr(this);try{r((e)=>{void 0===r||(r=void 0,k(this,e))},(e)=>{void 0===r||(r=void 0,this._reject(e))})}catch(l){if(r===void 0)return;r=void 0,this._reject(l)}}function s(r){f&&wr(this);try{r((e)=>{void 0===r||(e instanceof E&&0===e._resolved&&(this._parent=e),r=void 0,k(this,e))},(e)=>{void 0===r||(r=void 0,this._reject(e))},(e)=>{if("function"!=typeof e)throw new TypeError("onCancel must be function");0!==this._resolved||(void 0===this._onCancelQueue&&(this._onCancelQueue=new p),this._onCancelQueue.push(e))})}catch(l){if(r===void 0)return;r=void 0,this._reject(l)}}function _(e,r){return(t)=>{for(let i=e.length;i--;)if(t instanceof e[i])return r(t);return g.e=t,g}}function o(e,r){return()=>{const{_resolved:l,_value:t}=e,i=L(r);if(i===g)return i;if(i instanceof u)switch(i._resolved){case 1:return i._value=t,i;case 2:return i;}const s=new E(y);return i&&i.then?1===l?i.then(()=>s._resolve(t),(e)=>s._reject(e)):i.then(()=>s._reject(t),(e)=>s._reject(e)):(s._resolved=l,s._value=t),s}}function a(e,r,l,t){return f&&wr(r,e),void 0===e._receiver||e._receiver===y?(0!==e._resolved&&d(e),e._receiver=r,e._onFulfilled=l,e._onRejected=t):e._receiver===h?(e._receiver=r,e._onFulfilled=l,e._onRejected=t):(!e._receivers&&(e._receivers=new p),e._receivers.push({receiver:r,onFulfilled:l,onRejected:t})),r}function c(e,r){return f&&wr(r,e),0!==e._resolved&&d(e),e._receiver=r,r._promise}function n(e,r,l,t,i){if(f){f=!1;const s=n(e,r,l,t,i);return f=!0,wr(s,e),s}switch(e._resolved){case 0:const s=new r(x,l,t,i);return void 0===e._receiver?e._receiver=s:(!e._receivers&&(e._receivers=new p),e._receivers.push({receiver:s})),s._promise;case 1:return new r(e._value,l,t,i)._execute();case 2:return E.reject(e._value);}}const{AigleCore:u,AigleProxy:m}=e("aigle-core"),p=e("./internal/queue"),d=e("./internal/async"),{VERSION:v,INTERNAL:y,PENDING:x,UNHANDLED:h,errorObj:g,call0:L,callResolve:S,callReject:R,callReceiver:k}=e("./internal/util");let f=!1;class E extends u{constructor(e){super(),this._resolved=0,this._value=void 0,this._key=void 0,this._receiver=void 0,this._onFulfilled=void 0,this._onRejected=void 0,this._receivers=void 0;e===y||this._execute(e)}then(e,r){return a(this,new E(y),e,r)}catch(e){if(1<arguments.length){let r=arguments.length;if(e=arguments[--r],"function"==typeof e){const l=Array(r);for(;r--;)l[r]=arguments[r];e=_(l,e)}}return a(this,new E(y),void 0,e)}finally(e){return e="function"==typeof e?o(this,e):e,a(this,new E(y),e,e)}toString(){return"[object Promise]"}isPending(){return 0===this._resolved}isFulfilled(){return 1===this._resolved}isRejected(){return 2===this._resolved}isCancelled(){return this._value instanceof qr}value(){return 1===this._resolved?this._value:void 0}reason(){return 2===this._resolved?this._value:void 0}cancel(){if(this._execute!==i&&0===this._resolved){const{_onCancelQueue:e}=this;if(e){let r=-1;const{array:l}=e;for(this._onCancelQueue=void 0;++r<e.length;)l[r]()}this._resolved=2,this._value=new qr("late cancellation observer"),this._parent&&this._parent.cancel()}}suppressUnhandledRejections(){this._receiver=y}spread(e){return c(this,new jr(e))}all(){return n(this,N)}race(){return n(this,P)}props(){return n(this,b)}parallel(){return n(this,F)}each(e){return n(this,O,e)}forEach(e){return n(this,O,e)}eachSeries(e){return n(this,M,e)}forEachSeries(e){return n(this,M,e)}eachLimit(e,r){return n(this,C,e,r)}forEachLimit(e,r){return n(this,C,e,r)}map(e){return n(this,G,e)}mapSeries(e){return n(this,U,e)}mapLimit(e,r){return n(this,q,e,r)}mapValues(e){return n(this,H,e)}mapValuesSeries(e){return n(this,Y,e)}mapValuesLimit(e,r){return n(this,X,e,r)}filter(e){return n(this,ee,e)}filterSeries(e){return n(this,le,e)}filterLimit(e,r){return n(this,ie,e,r)}reject(e){return n(this,_e,e)}rejectSeries(e){return n(this,ae,e)}rejectLimit(e,r){return n(this,ne,e,r)}find(e){return n(this,me,e)}findSeries(e){return n(this,de,e)}findLimit(e,r){return n(this,ye,e,r)}findIndex(e){return n(this,he,e)}findIndexSeries(e){return n(this,Le,e)}findIndexLimit(e,r){return n(this,Re,e,r)}findKey(e){return n(this,fe,e)}findKeySeries(e){return n(this,je,e)}findKeyLimit(e,r){return n(this,Ae,e,r)}pick(e){return n(this,Pe,e)}pickSeries(e){return n(this,be,e)}pickLimit(e,r){return n(this,Fe,e,r)}omit(e){return n(this,Oe,e)}omitSeries(e){return n(this,Me,e)}omitLimit(e,r){return n(this,Ce,e,r)}reduce(e,r){return n(this,Ge,e,r)}transform(e,r){return n(this,Ue,e,r)}transformSeries(e,r){return n(this,qe,e,r)}transformLimit(e,r,l){return n(this,He,e,r,l)}sortBy(e){return n(this,Ye,e)}sortBySeries(e){return n(this,Xe,e)}sortByLimit(e,r){return n(this,er,e,r)}some(e){return n(this,lr,e)}someSeries(e){return n(this,ir,e)}someLimit(e,r){return n(this,_r,e,r)}every(e){return n(this,ar,e)}everySeries(e){return n(this,nr,e)}everyLimit(e,r){return n(this,mr,e,r)}concat(e){return n(this,dr,e)}concatSeries(e){return n(this,yr,e)}concatLimit(e,r){return n(this,hr,e,r)}groupBy(e){return n(this,Lr,e)}groupBySeries(e){return n(this,Rr,e)}groupByLimit(e,r){return n(this,fr,e,r)}delay(e){return a(this,new Ar(e))}timeout(e,r){return c(this,new Ir(e,r))}whilst(e,r){return this.then((l)=>Pr(l,e,r))}doWhilst(e,r){return this.then((l)=>Tr(l,e,r))}until(e,r){return this.then((l)=>br(l,e,r))}doUntil(e,r){return this.then((l)=>Br(l,e,r))}times(e){return n(this,Or,e)}timesSeries(e){return n(this,Mr,e)}timesLimit(e,r){return n(this,Cr,e,r)}disposer(e){return new Gr(this,e)}_resolve(e){0===this._resolved&&(this._resolved=1,this._value=e,void 0===this._receiver||this._callResolve())}_callResolve(){const{_receiver:e}=this;if(this._receiver=void 0,e instanceof m?e._callResolve(this._value,this._key):this._key===y?e._resolve(this._value):S(e,this._onFulfilled,this._value),!!this._receivers){const{_value:e,_key:r,_receivers:l}=this;this._receivers=void 0;let t=-1;const{array:i}=l;for(;++t<l.length;){const{receiver:l,onFulfilled:s}=i[t];l instanceof m?l._callResolve(e,r):S(l,s,e)}}}_reject(e){if(0===this._resolved)return this._resolved=2,this._value=e,void 0===this._receiver?(this._receiver=h,void d(this)):void(f&&Ur(this),this._callReject())}_callReject(){const{_receiver:e}=this;if(this._receiver=void 0,void 0===e||e===h)return void l.emit("unhandledRejection",this._value);if(e!==y&&(e instanceof m?e._callReject(this._value):this._key===y?e._reject(this._value):R(e,this._onRejected,this._value),!!this._receivers)){const{_value:e,_receivers:r}=this;this._receivers=void 0;let l=-1;const{array:t}=r;for(;++l<r.length;){const{receiver:r,onRejected:i}=t[l];r instanceof m?r._callReject(e):R(r,i,e)}}}_addReceiver(e,r){this._key=r,this._receiver=e}}E.prototype._execute=i,r.exports=E;const{all:j,All:N}=e("./all"),A=e("./attempt"),{race:I,Race:P}=e("./race"),{props:T,Props:b}=e("./props"),{parallel:B,Parallel:F}=e("./parallel"),{each:D,Each:O}=e("./each"),{eachSeries:V,EachSeries:M}=e("./eachSeries"),{eachLimit:z,EachLimit:C}=e("./eachLimit"),{map:K,Map:G}=e("./map"),{mapSeries:w,MapSeries:U}=e("./mapSeries"),{mapLimit:W,MapLimit:q}=e("./mapLimit"),{mapValues:Q,MapValues:H}=e("./mapValues"),{mapValuesSeries:$,MapValuesSeries:Y}=e("./mapValuesSeries"),{mapValuesLimit:J,MapValuesLimit:X}=e("./mapValuesLimit"),{filter:Z,Filter:ee}=e("./filter"),{filterSeries:re,FilterSeries:le}=e("./filterSeries"),{filterLimit:te,FilterLimit:ie}=e("./filterLimit"),{reject:se,Reject:_e}=e("./reject"),{rejectSeries:oe,RejectSeries:ae}=e("./rejectSeries"),{rejectLimit:ce,RejectLimit:ne}=e("./rejectLimit"),{find:ue,Find:me}=e("./find"),{findSeries:pe,FindSeries:de}=e("./findSeries"),{findLimit:ve,FindLimit:ye}=e("./findLimit"),{findIndex:xe,FindIndex:he}=e("./findIndex"),{findIndexSeries:ge,FindIndexSeries:Le}=e("./findIndexSeries"),{findIndexLimit:Se,FindIndexLimit:Re}=e("./findIndexLimit"),{findKey:ke,FindKey:fe}=e("./findKey"),{findKeySeries:Ee,FindKeySeries:je}=e("./findKeySeries"),{findKeyLimit:Ne,FindKeyLimit:Ae}=e("./findKeyLimit"),{pick:Ie,Pick:Pe}=e("./pick"),{pickSeries:Te,PickSeries:be}=e("./pickSeries"),{pickLimit:Be,PickLimit:Fe}=e("./pickLimit"),{omit:De,Omit:Oe}=e("./omit"),{omitSeries:Ve,OmitSeries:Me}=e("./omitSeries"),{omitLimit:ze,OmitLimit:Ce}=e("./omitLimit"),{reduce:Ke,Reduce:Ge}=e("./reduce"),{transform:we,Transform:Ue}=e("./transform"),{transformSeries:We,TransformSeries:qe}=e("./transformSeries"),{transformLimit:Qe,TransformLimit:He}=e("./transformLimit"),{sortBy:$e,SortBy:Ye}=e("./sortBy"),{sortBySeries:Je,SortBySeries:Xe}=e("./sortBySeries"),{sortByLimit:Ze,SortByLimit:er}=e("./sortByLimit"),{some:rr,Some:lr}=e("./some"),{someSeries:tr,SomeSeries:ir}=e("./someSeries"),{someLimit:sr,SomeLimit:_r}=e("./someLimit"),{every:or,Every:ar}=e("./every"),{everySeries:cr,EverySeries:nr}=e("./everySeries"),{everyLimit:ur,EveryLimit:mr}=e("./everyLimit"),{concat:pr,Concat:dr}=e("./concat"),{concatSeries:vr,ConcatSeries:yr}=e("./concatSeries"),{concatLimit:xr,ConcatLimit:hr}=e("./concatLimit"),{groupBy:gr,GroupBy:Lr}=e("./groupBy"),{groupBySeries:Sr,GroupBySeries:Rr}=e("./groupBySeries"),{groupByLimit:kr,GroupByLimit:fr}=e("./groupByLimit"),{join:Er,Spread:jr}=e("./join"),{delay:Nr,Delay:Ar}=e("./delay"),Ir=e("./timeout"),{whilst:Pr}=e("./whilst"),{doWhilst:Tr}=e("./doWhilst"),{until:br}=e("./until"),Br=e("./doUntil"),Fr=e("./retry"),{times:Dr,Times:Or}=e("./times"),{timesSeries:Vr,TimesSeries:Mr}=e("./timesSeries"),{timesLimit:zr,TimesLimit:Cr}=e("./timesLimit"),{using:Kr,Disposer:Gr}=e("./using"),{resolveStack:wr,reconstructStack:Ur}=e("./debug"),{createProxy:Wr}=e("./internal/mixin");E.VERSION=v,E.resolve=t,E.reject=function(e,r){if(2===arguments.length&&"function"==typeof r)return se(e,r);const l=new E(y);return l._reject(e),l},E.all=j,E.race=I,E.props=T,E.parallel=B,E.each=D,E.eachSeries=V,E.eachLimit=z,E.forEach=D,E.forEachSeries=V,E.forEachLimit=z,E.map=K,E.mapSeries=w,E.mapLimit=W,E.mapValues=Q,E.mapValuesSeries=$,E.mapValuesLimit=J,E.filter=Z,E.filterSeries=re,E.filterLimit=te,E.rejectSeries=oe,E.rejectLimit=ce,E.find=ue,E.findSeries=pe,E.findLimit=ve,E.findIndex=xe,E.findIndexSeries=ge,E.findIndexLimit=Se,E.findKey=ke,E.findKeySeries=Ee,E.findKeyLimit=Ne,E.detect=ue,E.detectSeries=pe,E.detectLimit=ve,E.pick=Ie,E.pickSeries=Te,E.pickLimit=Be,E.omit=De,E.omitSeries=Ve,E.omitLimit=ze,E.reduce=Ke,E.transform=we,E.transformSeries=We,E.transformLimit=Qe,E.sortBy=$e,E.sortBySeries=Je,E.sortByLimit=Ze,E.some=rr,E.someSeries=tr,E.someLimit=sr,E.every=or,E.everySeries=cr,E.everyLimit=ur,E.concat=pr,E.concatSeries=vr,E.concatLimit=xr,E.groupBy=gr,E.groupBySeries=Sr,E.groupByLimit=kr,E.attempt=A,E.try=A,E.join=Er,E.promisify=e("./promisify"),E.promisifyAll=e("./promisifyAll"),E.delay=Nr,E.whilst=Pr,E.doWhilst=Tr,E.until=br,E.doUntil=Br,E.retry=Fr,E.times=Dr,E.timesSeries=Vr,E.timesLimit=zr,E.using=Kr,E.mixin=function(e,r={}){const{override:l,promisify:i=!0}=r;return Object.getOwnPropertyNames(e).forEach((r)=>{const s=e[r];if("function"!=typeof s||E[r]&&!l)return;if("chain"===r){const e=s();if(e&&e.__chain__)return void(E.chain=t)}const _=Wr(s,i);E[r]=function(e,r,l,t){return new _(e,r,l,t)._execute()},E.prototype[r]=function(e,r,l){return n(this,_,e,r,l)}}),E},E.config=function(e){e=e||{},e.longStackTraces!==void 0&&(f=!!e.longStackTraces),e.cancellation!==void 0&&(E.prototype._execute=e.cancellation?s:i)},E.longStackTraces=function(){f=!0};const{CancellationError:qr,TimeoutError:Qr}=e("./error");E.CancellationError=qr,E.TimeoutError=Qr}).call(this,e("_process"))},{"./all":3,"./attempt":4,"./concat":5,"./concatLimit":6,"./concatSeries":7,"./debug":8,"./delay":9,"./doUntil":10,"./doWhilst":11,"./each":12,"./eachLimit":13,"./eachSeries":14,"./error":15,"./every":16,"./everyLimit":17,"./everySeries":18,"./filter":19,"./filterLimit":20,"./filterSeries":21,"./find":22,"./findIndex":23,"./findIndexLimit":24,"./findIndexSeries":25,"./findKey":26,"./findKeyLimit":27,"./findKeySeries":28,"./findLimit":29,"./findSeries":30,"./groupBy":31,"./groupByLimit":32,"./groupBySeries":33,"./internal/async":34,"./internal/mixin":36,"./internal/queue":37,"./internal/util":38,"./join":39,"./map":40,"./mapLimit":41,"./mapSeries":42,"./mapValues":43,"./mapValuesLimit":44,"./mapValuesSeries":45,"./omit":46,"./omitLimit":47,"./omitSeries":48,"./parallel":49,"./pick":50,"./pickLimit":51,"./pickSeries":52,"./promisify":53,"./promisifyAll":54,"./props":55,"./race":56,"./reduce":57,"./reject":58,"./rejectLimit":59,"./rejectSeries":60,"./retry":61,"./some":62,"./someLimit":63,"./someSeries":64,"./sortBy":65,"./sortByLimit":66,"./sortBySeries":67,"./timeout":68,"./times":69,"./timesLimit":70,"./timesSeries":71,"./transform":72,"./transformLimit":73,"./transformSeries":74,"./until":75,"./using":76,"./whilst":77,_process:79,"aigle-core":78}],3:[function(e,r){"use strict";function l(e){const r=e.length;return this._rest=r,this._coll=e,this._result=Array(r),this._callResolve=this._execute,t.call(this),this}function t(){return 0===this._rest?this._promise._resolve(this._result):a(this),this._promise}const{AigleProxy:i}=e("aigle-core"),s=e("./aigle"),{INTERNAL:_,PENDING:o,promiseArrayEach:a}=e("./internal/util");class c extends i{constructor(e){if(super(),this._promise=new s(_),e===o)this._rest=void 0,this._coll=void 0,this._result=void 0,this._execute=this._callResolve,this._callResolve=l;else{const r=e.length;this._rest=r,this._coll=e,this._result=Array(r),this._execute=t}}_callResolve(e,r){this._result[r]=e,0==--this._rest&&this._promise._resolve(this._result)}_callReject(e){this._promise._reject(e)}}r.exports={all:function(e){return new c(e)._execute()},All:c}},{"./aigle":2,"./internal/util":38,"aigle-core":78}],4:[function(e,r){"use strict";const l=e("./aigle"),{INTERNAL:t,callResolve:i}=e("./internal/util");r.exports=function(e){const r=new l(t);return i(r,e),r}},{"./aigle":2,"./internal/util":38}],5:[function(e,r){"use strict";function l(e){return s.call(this,e),this._result=Array(this._rest),this}const{Each:t}=e("./each"),{concatArray:i}=e("./internal/util"),{setParallel:s}=e("./internal/collection");class _ extends t{constructor(e,r){super(e,r,l)}_callResolve(e,r){this._result[r]=e,0==--this._rest&&this._promise._resolve(i(this._result))}}r.exports={concat:function(e,r){return new _(e,r)._execute()},Concat:_}},{"./each":12,"./internal/collection":35,"./internal/util":38}],6:[function(e,r){"use strict";function l(e){return s.call(this,e),this._result=Array(this._rest),this}const{EachLimit:t}=e("./eachLimit"),{concatArray:i}=e("./internal/util"),{setLimit:s}=e("./internal/collection");class _ extends t{constructor(e,r,t){super(e,r,t,l)}_callResolve(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(i(this._result)):0<this._callRest--&&this._iterate()}}r.exports={concatLimit:function(e,r,l){return new _(e,r,l)._execute()},ConcatLimit:_}},{"./eachLimit":13,"./internal/collection":35,"./internal/util":38}],7:[function(e,r){"use strict";const{EachSeries:l}=e("./eachSeries");class t extends l{constructor(e,r){super(e,r),this._result=[]}_callResolve(e){Array.isArray(e)?this._result.push(...e):e!==void 0&&this._result.push(e),0==--this._rest?this._promise._resolve(this._result):this._iterate()}}r.exports={concatSeries:function(e,r){return new t(e,r)._execute()},ConcatSeries:t}},{"./eachSeries":14}],8:[function(e,r){"use strict";r.exports={resolveStack:function(e,r){const{stack:l}=new Error;e._stacks=e._stacks||[],r&&r._stacks&&e._stacks.push(...r._stacks);const t=l.split("\n").slice(4);e._stacks.push(t.join("\n"))},reconstructStack:function(e){const{_value:r,_stacks:t}=e;if(!1!=r instanceof Error&&t&&!r._reconstructed){const e=r.stack.split("\n");for(let r=t.length;r--;)e.push("From previous event:"),e.push(t[r]);r.stack=e.join("\n"),r._reconstructed=!0}}}},{}],9:[function(e,r){"use strict";const l=e("./aigle"),{INTERNAL:t}=e("./internal/util");class i extends l{constructor(e){super(t),this._ms=e,this._timer=void 0}_resolve(e){return this._timer=setTimeout(()=>l.prototype._resolve.call(this,e),this._ms),this}_reject(e){clearTimeout(this._timer),l.prototype._reject.call(this,e)}}r.exports={delay:function(e,r){return new i(e)._resolve(r)},Delay:i}},{"./aigle":2,"./internal/util":38}],10:[function(e,r){"use strict";const{DoWhilst:l}=e("./doWhilst"),{UntilTester:t}=e("./until");r.exports=function(e,r,i){return"function"!=typeof i&&(i=r,r=e,e=void 0),new l(new t(i),r)._iterate(e)}},{"./doWhilst":11,"./until":75}],11:[function(e,r){"use strict";const{AigleWhilst:l,WhilstTester:t}=e("./whilst");class i extends l{constructor(e,r){super(e,r)}_iterate(e){return this._next(e),this._promise}}r.exports={doWhilst:function(e,r,l){return"function"!=typeof l&&(l=r,r=e,e=void 0),new i(new t(l),r)._iterate(e)},DoWhilst:i}},{"./whilst":77}],12:[function(e,r){"use strict";const{AigleProxy:l}=e("aigle-core"),t=e("./aigle"),{INTERNAL:i,PENDING:s}=e("./internal/util"),{execute:_,setParallel:o}=e("./internal/collection");class a extends l{constructor(e,r,l=o){super(),this._iterator=r,this._promise=new t(i),this._coll=void 0,this._size=void 0,this._rest=void 0,this._keys=void 0,this._result=void 0,this._iterate=void 0,e===s?(this._set=l,this._iterate=this._callResolve,this._callResolve=_):l.call(this,e)}_execute(){return 0===this._rest?this._promise._resolve(this._result):this._iterate(),this._promise}_callResolve(e){(0==--this._rest||!1===e)&&this._promise._resolve()}_callReject(e){this._promise._reject(e)}}r.exports={each:function(e,r){return new a(e,r)._execute()},Each:a}},{"./aigle":2,"./internal/collection":35,"./internal/util":38,"aigle-core":78}],13:[function(e,r){"use strict";const{AigleProxy:l}=e("aigle-core"),t=e("./aigle"),{DEFAULT_LIMIT:i,INTERNAL:s,PENDING:_}=e("./internal/util"),{execute:o,setLimit:a}=e("./internal/collection");class c extends l{constructor(e,r,l,c=a){super(),"function"==typeof r&&(l=r,r=i),this._iterator=l,this._promise=new t(s),this._index=0,this._limit=r,this._coll=void 0,this._rest=void 0,this._size=void 0,this._keys=void 0,this._result=void 0,this._iterate=void 0,this._callRest=void 0,e===_?(this._set=c,this._iterate=this._callResolve,this._callResolve=o):c.call(this,e)}_execute(){if(0===this._rest)this._promise._resolve(this._result);else for(;this._limit--;)this._iterate();return this._promise}_callResolve(e){!1===e?(this._callRest=0,this._promise._resolve()):0==--this._rest?this._promise._resolve():0<this._callRest--&&this._iterate()}_callReject(e){this._callRest=0,this._promise._reject(e)}}r.exports={eachLimit:function(e,r,l){return new c(e,r,l)._execute()},EachLimit:c}},{"./aigle":2,"./internal/collection":35,"./internal/util":38,"aigle-core":78}],14:[function(e,r){"use strict";const{AigleProxy:l}=e("aigle-core"),t=e("./aigle"),{INTERNAL:i,PENDING:s}=e("./internal/util"),{execute:_,setSeries:o}=e("./internal/collection");class a extends l{constructor(e,r,l=o){super(),this._iterator=r,this._promise=new t(i),this._index=0,this._coll=void 0,this._rest=void 0,this._size=void 0,this._keys=void 0,this._result=void 0,this._iterate=void 0,e===s?(this._set=l,this._iterate=this._callResolve,this._callResolve=_):l.call(this,e)}_execute(){return 0===this._rest?this._promise._resolve(this._result):this._iterate(),this._promise}_callResolve(e){0==--this._rest||!1===e?this._promise._resolve():this._iterate()}_callReject(e){this._promise._reject(e)}}r.exports={eachSeries:function(e,r){return new a(e,r)._execute()},EachSeries:a}},{"./aigle":2,"./internal/collection":35,"./internal/util":38,"aigle-core":78}],15:[function(e,r,t){"use strict";const i=["CancellationError","TimeoutError"];for(let s=i.length;s--;)t[i[s]]=class extends Error{}},{}],16:[function(e,r){"use strict";const{Each:l}=e("./each"),{PENDING:t}=e("./internal/util"),{setShorthand:i}=e("./internal/collection");class s extends l{constructor(e,r){super(e,r),this._result=!0,e===t?this._set=i:i.call(this,e)}_callResolve(e){e?0==--this._rest&&this._promise._resolve(!0):this._promise._resolve(!1)}}r.exports={every:function(e,r){return new s(e,r)._execute()},Every:s}},{"./each":12,"./internal/collection":35,"./internal/util":38}],17:[function(e,r){"use strict";const{EachLimit:l}=e("./eachLimit");class t extends l{constructor(e,r,l){super(e,r,l),this._result=!0}_callResolve(e){e?0==--this._rest?this._promise._resolve(!0):0<this._callRest--&&this._iterate():this._promise._resolve(!1)}}r.exports={everyLimit:function(e,r,l){return new t(e,r,l)._execute()},EveryLimit:t}},{"./eachLimit":13}],18:[function(e,r){"use strict";const{EachSeries:l}=e("./eachSeries.js");class t extends l{constructor(e,r){super(e,r),this._result=!0}_callResolve(e){e?0==--this._rest?this._promise._resolve(!0):this._iterate():this._promise._resolve(!1)}}r.exports={everySeries:function(e,r){return new t(e,r)._execute()},EverySeries:t}},{"./eachSeries.js":14}],19:[function(e,r){"use strict";function l(e){return _.call(this,e),this._result=Array(this._rest),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e?this._coll[r]:o,0==--this._rest&&this._promise._resolve(a(this._result))}function i(e,r){this._result[r]=e?this._coll[this._keys[r]]:o,0==--this._rest&&this._promise._resolve(a(this._result))}const{Each:s}=e("./each"),{setShorthand:_}=e("./internal/collection"),{INTERNAL:o,compactArray:a}=e("./internal/util");class c extends s{constructor(e,r){super(e,r,l)}}c.prototype._set=l,r.exports={filter:function(e,r){return new c(e,r)._execute()},Filter:c}},{"./each":12,"./internal/collection":35,"./internal/util":38}],20:[function(e,r){"use strict";function l(e){return _.call(this,e),this._result=Array(this._rest),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e?this._coll[r]:o,0==--this._rest?this._promise._resolve(a(this._result)):0<this._callRest--&&this._iterate()}function i(e,r){this._result[r]=e?this._coll[this._keys[r]]:o,0==--this._rest?this._promise._resolve(a(this._result)):0<this._callRest--&&this._iterate()}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection"),{INTERNAL:o,compactArray:a}=e("./internal/util");class c extends s{constructor(e,r,t){super(e,r,t,l)}}r.exports={filterLimit:function(e,r,l){return new c(e,r,l)._execute()},FilterLimit:c}},{"./eachLimit":13,"./internal/collection":35,"./internal/util":38}],21:[function(e,r){"use strict";function l(e){return _.call(this,e),this._result=Array(this._rest),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e?this._coll[r]:o,0==--this._rest?this._promise._resolve(a(this._result)):this._iterate()}function i(e,r){this._result[r]=e?this._coll[this._keys[r]]:o,0==--this._rest?this._promise._resolve(a(this._result)):this._iterate()}const{EachSeries:s}=e("./eachSeries"),{setSeries:_}=e("./internal/collection"),{INTERNAL:o,compactArray:a}=e("./internal/util");class c extends s{constructor(e,r){super(e,r,l)}}r.exports={filterSeries:function(e,r){return new c(e,r)._execute()},FilterSeries:c}},{"./eachSeries":14,"./internal/collection":35,"./internal/util":38}],22:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e?(this._size=0,this._promise._resolve(this._coll[r])):0==--this._rest&&this._promise._resolve()}function i(e,r){e?(this._size=0,this._promise._resolve(this._coll[this._keys[r]])):0==--this._rest&&this._promise._resolve()}const{Each:s}=e("./each"),{setShorthand:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l)}}r.exports={find:function(e,r){return new o(e,r)._execute()},Find:o}},{"./each":12,"./internal/collection":35}],23:[function(e,r){"use strict";function l(e){return i.call(this,e),void 0!==this._keys&&(this._rest=0),this}const{Each:t}=e("./each"),{setShorthand:i}=e("./internal/collection");class s extends t{constructor(e,r){super(e,r,l),this._result=-1}_callResolve(e,r){e?(this._size=0,this._promise._resolve(r)):0==--this._rest&&this._promise._resolve(-1)}}r.exports={findIndex:function(e,r){return new s(e,r)._execute()},FindIndex:s}},{"./each":12,"./internal/collection":35}],24:[function(e,r){"use strict";function l(e){return i.call(this,e),void 0!==this._keys&&(this._rest=0),this}const{EachLimit:t}=e("./eachLimit"),{setLimit:i}=e("./internal/collection");class s extends t{constructor(e,r,t){super(e,r,t,l),this._result=-1}_callResolve(e,r){e?(this._callRest=0,this._promise._resolve(r)):0==--this._rest?this._promise._resolve(-1):0<this._callRest--&&this._iterate()}}r.exports={findIndexLimit:function(e,r,l){return new s(e,r,l)._execute()},FindIndexLimit:s}},{"./eachLimit":13,"./internal/collection":35}],25:[function(e,r){"use strict";function l(e){return i.call(this,e),void 0!==this._keys&&(this._rest=0),this}const{EachSeries:t}=e("./eachSeries"),{setSeries:i}=e("./internal/collection");class s extends t{constructor(e,r){super(e,r,l),this._result=-1}_callResolve(e,r){e?this._promise._resolve(r):0==--this._rest?this._promise._resolve(-1):this._iterate()}}r.exports={findIndexSeries:function(e,r){return new s(e,r)._execute()},FindIndexSeries:s}},{"./eachSeries":14,"./internal/collection":35}],26:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e?(this._size=0,this._promise._resolve(`${r}`)):0==--this._rest&&this._promise._resolve()}function i(e,r){e?(this._size=0,this._promise._resolve(this._keys[r])):0==--this._rest&&this._promise._resolve()}const{Each:s}=e("./each"),{setShorthand:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l)}}r.exports={findKey:function(e,r){return new o(e,r)._execute()},FindKey:o}},{"./each":12,"./internal/collection":35}],27:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e?(this._callRest=0,this._promise._resolve(`${r}`)):0==--this._rest?this._promise._resolve():0<this._callRest--&&this._iterate()}function i(e,r){e?(this._callRest=0,this._promise._resolve(this._keys[r])):0==--this._rest?this._promise._resolve():0<this._callRest--&&this._iterate()}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection");class o extends s{constructor(e,r,t){super(e,r,t,l)}}r.exports={findKeyLimit:function(e,r,l){return new o(e,r,l)._execute()},FindKeyLimit:o}},{"./eachLimit":13,"./internal/collection":35}],28:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e?this._promise._resolve(`${r}`):0==--this._rest?this._promise._resolve():this._iterate()}function i(e,r){e?this._promise._resolve(this._keys[r]):0==--this._rest?this._promise._resolve():this._iterate()}const{EachSeries:s}=e("./eachSeries"),{setSeries:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l)}}r.exports={findKeySeries:function(e,r){return new o(e,r)._execute()},FindKeySeries:o}},{"./eachSeries":14,"./internal/collection":35}],29:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e?(this._callRest=0,this._promise._resolve(this._coll[r])):0==--this._rest?this._promise._resolve():0<this._callRest--&&this._iterate()}function i(e,r){e?(this._callRest=0,this._promise._resolve(this._coll[this._keys[r]])):0==--this._rest?this._promise._resolve():0<this._callRest--&&this._iterate()}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection");class o extends s{constructor(e,r,t){super(e,r,t,l)}}r.exports={findLimit:function(e,r,l){return new o(e,r,l)._execute()},FindLimit:o}},{"./eachLimit":13,"./internal/collection":35}],30:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e?this._promise._resolve(this._coll[r]):0==--this._rest?this._promise._resolve():this._iterate()}function i(e,r){e?this._promise._resolve(this._coll[this._keys[r]]):0==--this._rest?this._promise._resolve():this._iterate()}const{EachSeries:s}=e("./eachSeries"),{setSeries:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l)}}r.exports={findSeries:function(e,r){return new o(e,r)._execute()},FindSeries:o}},{"./eachSeries":14,"./internal/collection":35}],31:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[e]?this._result[e].push(this._coll[r]):this._result[e]=[this._coll[r]],0==--this._rest&&this._promise._resolve(this._result)}function i(e,r){this._result[e]?this._result[e].push(this._coll[this._keys[r]]):this._result[e]=[this._coll[this._keys[r]]],0==--this._rest&&this._promise._resolve(this._result)}const{Each:s}=e("./each"),{setShorthand:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l),this._result={}}}r.exports={groupBy:function(e,r){return new o(e,r)._execute()},GroupBy:o}},{"./each":12,"./internal/collection":35}],32:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[e]?this._result[e].push(this._coll[r]):this._result[e]=[this._coll[r]],0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}function i(e,r){this._result[e]?this._result[e].push(this._coll[this._keys[r]]):this._result[e]=[this._coll[this._keys[r]]],0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection");class o extends s{constructor(e,r,t){super(e,r,t,l),this._result={}}}r.exports={groupByLimit:function(e,r,l){return new o(e,r,l)._execute()},GroupByLimit:o}},{"./eachLimit":13,"./internal/collection":35}],33:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[e]?this._result[e].push(this._coll[r]):this._result[e]=[this._coll[r]],0==--this._rest?this._promise._resolve(this._result):this._iterate()}function i(e,r){this._result[e]?this._result[e].push(this._coll[this._keys[r]]):this._result[e]=[this._coll[this._keys[r]]],0==--this._rest?this._promise._resolve(this._result):this._iterate()}const{EachSeries:s}=e("./eachSeries"),{setSeries:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l),this._result={}}}r.exports={groupBySeries:function(e,r){return new o(e,r)._execute()},GroupBySeries:o}},{"./eachSeries":14,"./internal/collection":35}],34:[function(e,r){"use strict";function l(){for(let e=-1;++e<s;){const r=t[e];switch(t[e]=void 0,r._resolved){case 1:r._callResolve();break;case 2:r._callReject();}}s=0,i=!1}const t=Array(8);let s=0,i=!1;r.exports=function(e){!1==i&&(setImmediate(l),i=!0),t[s++]=e}},{}],35:[function(e,r){"use strict";function l(){const{_rest:e,_iterator:r,_coll:l}=this;for(let t=-1;++t<e&&u(n(r,l[t],t,l),this,t););}function t(){const{_rest:e,_iterator:r,_coll:l,_keys:t}=this;for(let s=-1;++s<e;){const e=t[s];if(!1===u(n(r,l[e],e,l),this,s))break}}function i(){const{_iterator:e,_coll:r}=this;for(let l=-1;++l<this._size;){const t=r[l];t?this._callResolve(t[e],l):this._callResolve(void 0,l)}}function s(){const{_iterator:e,_coll:r,_keys:l}=this;for(let t=-1;++t<this._size;){const i=r[l[t]];i?this._callResolve(i[e],t):this._callResolve(void 0,t)}}function _(){const{_coll:e}=this,[r,l]=this._iterator;for(let t=-1;++t<this._size;){const i=e[t];i?this._callResolve(i[r]===l,t):this._callResolve(void 0,t)}}function o(){const{_coll:e,_keys:r}=this,[l,t]=this._iterator;for(let s=-1;++s<this._size;){const i=e[r[s]];i?this._callResolve(i[l]===t,s):this._callResolve(void 0,s)}}function a(){const{_iterator:e,_coll:r}=this,t=Object.keys(e);let l=-1;first:for(;++l<this._size;){const i=r[l];if(!i){this._callResolve(void 0,l);continue}for(let r=t.length;r--;){const s=t[r];if(i[s]!==e[s]){this._callResolve(!1,l);continue first}}this._callResolve(!0,l)}}function c(){const{_iterator:e,_coll:r,_keys:l}=this,t=Object.keys(e);let s=-1;first:for(;++s<this._size;){const i=r[l[s]];if(!i){this._callResolve(void 0,s);continue}for(let r=t.length;r--;){const l=t[r];if(i[l]!==e[l]){this._callResolve(!1,s);continue first}}this._callResolve(!0,s)}}const{call3:n,callProxyReciever:u}=e("./util"),[m,p]=[[l,t],[function(){const{_coll:e}=this,r=this._index++;u(n(this._iterator,e[r],r,e),this,r)},function(){const{_coll:e}=this,r=this._index++,l=this._keys[r];u(n(this._iterator,e[l],l,e),this,r)}]].map(function([e,r]){return function(l){if(Array.isArray(l))this._coll=l,this._size=l.length,this._iterate=e;else if(l&&"object"==typeof l){const e=Object.keys(l);this._coll=l,this._size=e.length,this._keys=e,this._iterate=r}else this._size=0;return this._rest=this._size,this}});r.exports={execute:function(e){this._callResolve=this._iterate,this._set(e),this._execute()},setParallel:m,setShorthand:function(e){if(Array.isArray(e))switch(this._coll=e,this._size=e.length,typeof this._iterator){case"function":this._iterate=l;break;case"string":this._iterate=i;break;case"object":this._iterate=Array.isArray(this._iterator)?_:a;}else if(e&&"object"==typeof e){const r=Object.keys(e);switch(this._coll=e,this._size=r.length,this._keys=r,typeof this._iterator){case"function":this._iterate=t;break;case"string":this._iterate=s;break;case"object":this._iterate=Array.isArray(this._iterator)?o:c;}}else this._size=0;return this._rest=this._size,this},setSeries:p,setLimit:function(e){p.call(this,e);const{_limit:r,_size:l}=this;return this._limit=r<l?r:l,this._callRest=l-this._limit,this}}},{"./util":38}],36:[function(e,r){"use strict";function l(e){const{_args:r}=this;return r[0]===n&&(r[0]=e,this._callResolve=this._set),m(u(this._func,r),this),this._promise}function t(e){const{_args:r}=this;r[0]===n?(r[0]=e,this._callResolve=this._set):e=r[0];const l=r[1],t="function"==typeof l;return t&&Array.isArray(e)?i(this,o,(e)=>{let l=0;r[1]=()=>e[l++],m(u(this._func,r),this)}):t&&e&&"object"==typeof e?i(this,a,(e)=>{let l=0;const t=Object.keys(e);r[1]=()=>e[t[l++]],m(u(this._func,r),this)}):m(u(this._func,r),this),this._promise}function i(e,r,l){const[t,i]=e._args,s=r(t,(e,r)=>i(e,r,t));return 1===s._resolved?l(s._value):s.then(l,(r)=>e._callReject(r))}const{AigleProxy:s}=e("aigle-core"),_=e("../aigle"),{map:o}=e("../map"),{mapValues:a}=e("../mapValues"),{INTERNAL:c,PENDING:n,apply:u,callProxyReciever:m}=e("./util");r.exports={createProxy:function(e,r){const i=r?t:l;return class extends p{constructor(...r){super(e,i,r)}}}};class p extends s{constructor(e,r,l){super(),this._promise=new _(c),this._func=e,this._args=l,this._execute=r,l[0]===n&&(this._set=this._callResolve,this._callResolve=r)}_callResolve(e){this._promise._resolve(e)}_callReject(e){this._promise._reject(e)}}},{"../aigle":2,"../map":40,"../mapValues":43,"./util":38,"aigle-core":78}],37:[function(e,r){"use strict";r.exports=class{constructor(e=8){this.array=Array(e),this.length=0}push(e){this.array[this.length++]=e}}},{}],38:[function(e,r){"use strict";function l(){}function t(e,r){try{return e(r)}catch(r){return d.e=r,d}}function i(e,r){if(!r||!r.then)return void e._resolve(r);if(r instanceof m)switch(r._resolved){case 0:return void r._addReceiver(e,l);case 1:return void e._resolve(r._value);case 2:return r.suppressUnhandledRejections(),void e._reject(r._value);}s(r,e)}function s(e,r){e.then(function(e){r._resolve(e)},function(e){r._reject(e)})}function _(e,r,l){e.then(function(e){r._callResolve(e,l)},function(e){r._callReject(e)})}function o(e){let r=e.length;const l=Array(r);for(;r--;)l[r]=e[r];return l}function a(e){const r=Object.keys(e);let t=r.length;const l={};for(;t--;){const i=r[t];l[i]=e[i]}return l}function c(e,t,i,s,_){let o=t,l=i;for(;o<=l;){for(t=o;o<l&&e[o]<s;)o++;for(;l>=t&&e[l]>=s;)l--;if(o>l)break;n(e,_,o++,l--)}return o}function n(e,t,s,l){const r=e[s];e[s]=e[l],e[l]=r;const _=t[s];t[s]=t[l],t[l]=_}function u(e,r,l,t){if(r===l)return;let s=r;for(;++s<=l&&e[r]===e[s];){const e=s-1;if(t[e]>t[s]){const r=t[e];t[e]=t[s],t[s]=r}}if(!(s>l)){const i=e[r]>e[s]?r:s;s=c(e,r,l,e[i],t),u(e,r,s-1,t),u(e,s,l,t)}}const{AigleCore:m}=e("aigle-core"),{version:p}=e("../../package.json"),d={e:void 0};r.exports={VERSION:p,DEFAULT_LIMIT:8,INTERNAL:l,PENDING:function(){},UNHANDLED:function(){},defaultIterator:function(e){return e},errorObj:d,call0:function(e){try{return e()}catch(r){return d.e=r,d}},call1:t,call3:function(e,r,l,t){try{return e(r,l,t)}catch(r){return d.e=r,d}},apply:function(e,r){try{switch(r.length){case 0:return e();case 1:return e(r[0]);case 2:return e(r[0],r[1]);case 3:return e(r[0],r[1],r[2]);default:return e.apply(null,r);}}catch(r){return d.e=r,d}},callResolve:function(e,r,l){if("function"!=typeof r)return void e._resolve(l);const s=t(r,l);return s===d?void e._reject(d.e):void i(e,s)},callReject:function(e,r,l){if("function"!=typeof r)return void e._reject(l);const s=t(r,l);return s===d?void e._reject(d.e):void i(e,s)},callReceiver:i,callThen:s,callProxyReciever:function(e,r,l){if(e instanceof m)switch(e._resolved){case 0:return e._addReceiver(r,l),!0;case 1:return r._callResolve(e._value,l),!0;case 2:return e.suppressUnhandledRejections(),r._callReject(e._value),!1;}return e===d?(r._callReject(d.e),!1):(e&&e.then?_(e,r,l):r._callResolve(e,l),!0)},promiseArrayEach:function(e){const{_rest:r,_coll:l}=e;for(let t=-1;++t<r;){const r=l[t];if(r instanceof m)switch(r._resolved){case 0:r._addReceiver(e,t);continue;case 1:e._callResolve(r._value,t);continue;case 2:return r.suppressUnhandledRejections(),void e._callReject(r._value);}r&&r.then?_(r,e,t):e._callResolve(r,t)}},promiseObjectEach:function(e){const{_rest:r,_keys:l,_coll:t}=e;for(let s=-1;++s<r;){const r=l[s],i=t[r];if(i instanceof m)switch(i._resolved){case 0:i._addReceiver(e,r);continue;case 1:e._callResolve(i._value,r);continue;case 2:return i.suppressUnhandledRejections(),void e._callReject(i._value);}i&&i.then?_(i,e,r):e._callResolve(i,r)}},compactArray:function(e){let r=-1;const t=e.length,i=[];for(;++r<t;){const t=e[r];t!==l&&i.push(t)}return i},concatArray:function(e){let r=-1;const t=e.length,l=[];for(;++r<t;){const t=e[r];Array.isArray(t)?l.push(...t):t!==void 0&&l.push(t)}return l},clone:function(e){return Array.isArray(e)?o(e):a(e)},sortArray:function(e,r){const t=e.length,l=Array(t);for(let s=0;s<t;s++)l[s]=s;u(r,0,t-1,l);const s=Array(t);for(let _=0;_<t;_++){const r=l[_];s[_]=r===void 0?e[_]:e[r]}return s},sortObject:function(e,r,t){const s=r.length,l=Array(s);for(let _=0;_<s;_++)l[_]=_;u(t,0,s-1,l);const _=Array(s);for(let o=0;o<s;o++){const t=l[o];_[o]=e[r[t===void 0?o:t]]}return _}}},{"../../package.json":81,"aigle-core":78}],39:[function(e,r){"use strict";function l(e,r){const{_handler:l}=e;if(l===void 0)return e._promise._resolve(r);switch(typeof r){case"string":r=r.split("");break;case"object":if(Array.isArray(r))break;if(r){const e=Object.keys(r);let t=e.length;const l=Array(t);for(;t--;)l[t]=r[e[t]];r=l;break}default:return a(_(l,r),e,s);}a(o(l,r),e,s)}const{AigleProxy:t}=e("aigle-core"),i=e("./aigle"),{INTERNAL:s,call1:_,apply:o,callProxyReciever:a}=e("./internal/util");class c extends t{constructor(e,r){super(),this._promise=new i(s),this._rest=r,this._result=Array(r),this._handler=e}_callResolve(e,r){if(r===s)return this._promise._resolve(e);if(this._result[r]=e,0==--this._rest){const{_handler:e,_result:r}=this;void 0===e?this._promise._resolve(r):a(o(e,r),this,s)}}_callReject(e){this._promise._reject(e)}}r.exports={join:function(){let e=arguments.length;const r="function"==typeof arguments[e-1]?arguments[--e]:void 0,l=new c(r,e);for(;e--;)a(arguments[e],l,e);return l._promise},Spread:class extends t{constructor(e){super(),this._promise=new i(s),this._handler=e}_callResolve(e,r){return r===s?this._promise._resolve(e):void l(this,e)}_callReject(e){this._promise._reject(e)}}}},{"./aigle":2,"./internal/util":38,"aigle-core":78}],40:[function(e,r){"use strict";function l(e){return i.call(this,e),this._result=Array(this._rest),this}const{Each:t}=e("./each"),{setShorthand:i}=e("./internal/collection");class s extends t{constructor(e,r){super(e,r,l)}_callResolve(e,r){this._result[r]=e,0==--this._rest&&this._promise._resolve(this._result)}}r.exports={map:function(e,r){return new s(e,r)._execute()},Map:s}},{"./each":12,"./internal/collection":35}],41:[function(e,r){"use strict";function l(e){return i.call(this,e),this._result=Array(this._rest),this}const{EachLimit:t}=e("./eachLimit"),{setLimit:i}=e("./internal/collection");class s extends t{constructor(e,r,t){super(e,r,t,l)}_callResolve(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}}r.exports={mapLimit:function(e,r,l){return new s(e,r,l)._execute()},MapLimit:s}},{"./eachLimit":13,"./internal/collection":35}],42:[function(e,r){"use strict";function l(e){return i.call(this,e),this._result=Array(this._rest),this}const{EachSeries:t}=e("./eachSeries"),{setSeries:i}=e("./internal/collection");class s extends t{constructor(e,r){super(e,r,l)}_callResolve(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(this._result):this._iterate()}}r.exports={mapSeries:function(e,r){return new s(e,r)._execute()},MapSeries:s}},{"./eachSeries":14,"./internal/collection":35}],43:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e,0==--this._rest&&this._promise._resolve(this._result)}function i(e,r){this._result[this._keys[r]]=e,0==--this._rest&&this._promise._resolve(this._result)}const{Each:s}=e("./each"),{setShorthand:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l),this._result={}}}r.exports={mapValues:function(e,r){return new o(e,r)._execute()},MapValues:o}},{"./each":12,"./internal/collection":35}],44:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}function i(e,r){this._result[this._keys[r]]=e,0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection");class o extends s{constructor(e,r,t){super(e,r,t,l),this._result={}}}r.exports={mapValuesLimit:function(e,r,l){return new o(e,r,l)._execute()},MapValuesLimit:o}},{"./eachLimit":13,"./internal/collection":35}],45:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(this._result):this._iterate()}function i(e,r){this._result[this._keys[r]]=e,0==--this._rest?this._promise._resolve(this._result):this._iterate()}const{EachSeries:s}=e("./eachSeries"),{setSeries:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l),this._result={}}}r.exports={mapValuesSeries:function(e,r){return new o(e,r)._execute()},MapValuesSeries:o}},{"./eachSeries":14,"./internal/collection":35}],46:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e||(this._result[r]=this._coll[r]),0==--this._rest&&this._promise._resolve(this._result)}function i(e,r){if(!e){const e=this._keys[r];this._result[e]=this._coll[e]}0==--this._rest&&this._promise._resolve(this._result)}const{Each:s}=e("./each"),{setShorthand:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l),this._result={}}}r.exports={omit:function(e,r){return new o(e,r)._execute()},Omit:o}},{"./each":12,"./internal/collection":35}],47:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e||(this._result[r]=this._coll[r]),0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}function i(e,r){if(!e){const e=this._keys[r];this._result[e]=this._coll[e]}0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection");class o extends s{constructor(e,r,t){super(e,r,t,l),this._result={}}}r.exports={omitLimit:function(e,r,l){return new o(e,r,l)._execute()},OmitLimit:o}},{"./eachLimit":13,"./internal/collection":35}],48:[function(e,r){"use strict";function l(e){return o.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e||(this._result[r]=this._coll[r]),0==--this._rest?this._promise._resolve(this._result):this._iterate()}function i(e,r){if(!e){const e=this._keys[r];this._result[e]=this._coll[e]}0==--this._rest?this._promise._resolve(this._result):this._iterate()}const{EachSeries:s}=e("./eachSeries"),{PENDING:_}=e("./internal/util"),{setSeries:o}=e("./internal/collection");class a extends s{constructor(e,r){super(e,r),this._result={},e===_?this._set=l:this._callResolve=this._keys===void 0?t:i}}r.exports={omitSeries:function(e,r){return new a(e,r)._execute()},OmitSeries:a}},{"./eachSeries":14,"./internal/collection":35,"./internal/util":38}],49:[function(e,r){"use strict";function l(e){this._callResolve=this._result,t.call(this,e),this._execute()}function t(e){if(Array.isArray(e)){const r=e.length;this._rest=r,this._coll=e,this._result=Array(r),this._iterate=a}else if(e&&"object"==typeof e){const r=Object.keys(e);this._rest=r.length,this._coll=e,this._keys=r,this._result={},this._iterate=c}else this._rest=0,this._result={};return this}const{AigleProxy:i}=e("aigle-core"),s=e("./aigle"),{INTERNAL:_,PENDING:o,promiseArrayEach:a,promiseObjectEach:c}=e("./internal/util");class n extends i{constructor(e){super(),this._promise=new s(_),this._rest=void 0,this._coll=void 0,this._keys=void 0,this._result=void 0,e===o?(this._result=this._callResolve,this._callResolve=l):t.call(this,e)}_execute(){return 0===this._rest?this._promise._resolve(this._result):void 0===this._keys?a(this):c(this),this._promise}_callResolve(e,r){this._result[r]=e,0==--this._rest&&this._promise._resolve(this._result)}_callReject(e){this._promise._reject(e)}}r.exports={parallel:function(e){return new n(e)._execute()},Parallel:n}},{"./aigle":2,"./internal/util":38,"aigle-core":78}],50:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e&&(this._result[r]=this._coll[r]),0==--this._rest&&this._promise._resolve(this._result)}function i(e,r){if(e){const e=this._keys[r];this._result[e]=this._coll[e]}0==--this._rest&&this._promise._resolve(this._result)}const{Each:s}=e("./each"),{setShorthand:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l),this._result={}}}r.exports={pick:function(e,r){return new o(e,r)._execute()},Pick:o}},{"./each":12,"./internal/collection":35}],51:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e&&(this._result[r]=this._coll[r]),0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}function i(e,r){if(e){const e=this._keys[r];this._result[e]=this._coll[e]}0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection");class o extends s{constructor(e,r,t){super(e,r,t,l),this._result={}}}r.exports={pickLimit:function(e,r,l){return new o(e,r,l)._execute()},PickLimit:o}},{"./eachLimit":13,"./internal/collection":35}],52:[function(e,r){"use strict";function l(e){return _.call(this,e),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){e&&(this._result[r]=this._coll[r]),0==--this._rest?this._promise._resolve(this._result):this._iterate()}function i(e,r){if(e){const e=this._keys[r];this._result[e]=this._coll[e]}0==--this._rest?this._promise._resolve(this._result):this._iterate()}const{EachSeries:s}=e("./eachSeries"),{setSeries:_}=e("./internal/collection");class o extends s{constructor(e,r){super(e,r,l),this._result={}}}r.exports={pickSeries:function(e,r){return new o(e,r)._execute()},PickSeries:o}},{"./eachSeries":14,"./internal/collection":35}],53:[function(e,r){"use strict";function t(e){return(r,l)=>r?e._reject(r):e._resolve(l)}function l(e,r){function l(i){const o=new s(_),a=t(o);let c=arguments.length;switch(c){case 0:e[r](a);break;case 1:e[r](i,a);break;default:const l=Array(c);for(;c--;)l[c]=arguments[c];l[l.length]=a,e[r].apply(e,l);}return o}return l.__isPromisified__=!0,l}function i(e,r){function l(i){const o=new s(_),a=t(o);let c=arguments.length;switch(c){case 0:e.call(r||this,a);break;case 1:e.call(r||this,i,a);break;default:const l=Array(c);for(;c--;)l[c]=arguments[c];l[l.length]=a,e.apply(r||this,l);}return o}return l.__isPromisified__=!0,l}const s=e("./aigle"),{INTERNAL:_}=e("./internal/util"),o="function"==typeof setImmediate?setImmediate:{};r.exports=function(e,r){switch(typeof e){case"object":switch(typeof r){case"string":case"number":return e[r].__isPromisified__?e[r]:l(e,r);default:throw new TypeError("Second argument is invalid");}case"function":if(e.__isPromisified__)return e;switch(e){case setTimeout:return s.delay;case o:return s.resolve;}const t=r&&r.context!==void 0?r.context:void 0;return i(e,t);default:throw new TypeError("Type of first argument is not function");}}},{"./aigle":2,"./internal/util":38}],54:[function(e,r){"use strict";function l(e){return /^_/.test(e)}function t(e,r,l,t,_,o){const a={};switch(typeof l){case"function":if(_){const r=`${t}${e}`;if(!_[r])_[r]=s(l);else if(!_[r].__isPromisified__)throw new TypeError(`Cannot promisify an API that has normal methods with '${e}'-suffix`)}i(e,r,l,l,o,a),i(e,r,l.prototype,l.prototype,o,a);break;case"object":i(e,r,l,l,o,a),i(e,r,Object.getPrototypeOf(l),l,o,a);}}function i(e,r,i,s,n,u){if(0!=n--&&i&&o!==i&&a!==i&&c!==i&&!Object.isFrozen(i)){const o=Object.getOwnPropertyNames(i);for(let a=o.length;a--;){const l=o[a];if(!0===_[l]||!0===u[l]||r(l))continue;const c=Object.getOwnPropertyDescriptor(i,l);!c||c.set||c.get||(u[l]=!0,t(e,r,i[l],l,s,n))}}}const s=e("./promisify"),_={constructor:!0,arity:!0,length:!0,name:!0,arguments:!0,caller:!0,callee:!0,prototype:!0,__isPromisified__:!0};r.exports=function(e,r){const{suffix:i="Async",filter:s=l,depth:_=2}=r||{};return t(i,s,e,void 0,void 0,_),e};const o=Function.prototype,a=Object.prototype,c=Array.prototype},{"./promisify":53}],55:[function(e,r){"use strict";function l(e){const r=Object.keys(e);return this._rest=r.length,this._coll=e,this._keys=r,this._callResolve=this._execute,t.call(this),this}function t(){return 0===this._rest?this._promise._resolve(this._result):c(this),this._promise}function i(e){return new n(e)._execute()}const{AigleProxy:s}=e("aigle-core"),_=e("./aigle"),{INTERNAL:o,PENDING:a,promiseObjectEach:c}=e("./internal/util");class n extends s{constructor(e){if(super(),this._promise=new _(o),this._result={},e===a)this._rest=void 0,this._coll=void 0,this._keys=void 0,this._execute=this._callResolve,this._callResolve=l;else{const r=Object.keys(e);this._rest=r.length,this._coll=e,this._keys=r,this._execute=t}}_callResolve(e,r){this._result[r]=e,0==--this._rest&&this._promise._resolve(this._result)}_callReject(e){this._promise._reject(e)}}r.exports={props:i,Props:n},r.exports={props:i,Props:n}},{"./aigle":2,"./internal/util":38,"aigle-core":78}],56:[function(e,r){"use strict";const{Parallel:l}=e("./parallel");class t extends l{constructor(e){super(e),this._result=void 0,0===this._rest&&(this._rest=-1)}_callResolve(e){this._promise._resolve(e)}}r.exports={race:function(e){return new t(e)._execute()},Race:t}},{"./parallel":49}],57:[function(e,r){"use strict";function l(e){return n.call(this,e),void 0===this._keys?(this._iterate=t,this._execute=s):(this._iterate=i,this._execute=_),this}function t(e,r){d(p(this._iterator,r,this._coll[e],e),this,e)}function i(e,r){const l=this._keys[e];d(p(this._iterator,r,this._coll[l],l),this,e)}function s(){return 0===this._rest?this._promise._resolve(this._result):void 0===this._result?this._callResolve(this._coll[0],0):this._iterate(0,this._result),this._promise}function _(){return 0===this._rest?this._promise._resolve(this._result):void 0===this._result?this._callResolve(this._coll[this._keys[0]],0):this._iterate(0,this._result),this._promise}const{AigleProxy:o}=e("aigle-core"),a=e("./aigle"),{execute:c,setSeries:n}=e("./internal/collection"),{INTERNAL:u,PENDING:m,call3:p,callProxyReciever:d}=e("./internal/util");class v extends o{constructor(e,r,t){super(),this._result=t,this._iterator=r,this._promise=new a(u),this._coll=void 0,this._rest=void 0,this._size=void 0,this._keys=void 0,this._iterate=void 0,e===m?(this._set=l,this._iterate=this._callResolve,this._callResolve=c):l.call(this,e)}_callResolve(e,r){0==--this._rest?this._promise._resolve(e):this._iterate(++r,e)}_callReject(e){this._promise._reject(e)}}r.exports={reduce:function(e,r,l){return new v(e,r,l)._execute()},Reduce:v}},{"./aigle":2,"./internal/collection":35,"./internal/util":38,"aigle-core":78}],58:[function(e,r){"use strict";function l(e){return _.call(this,e),this._result=Array(this._rest),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e?o:this._coll[r],0==--this._rest&&this._promise._resolve(a(this._result))}function i(e,r){this._result[r]=e?o:this._coll[this._keys[r]],0==--this._rest&&this._promise._resolve(a(this._result))}const{Each:s}=e("./each"),{setShorthand:_}=e("./internal/collection"),{INTERNAL:o,compactArray:a}=e("./internal/util");class c extends s{constructor(e,r){super(e,r,l)}}r.exports={reject:function(e,r){return new c(e,r)._execute()},Reject:c}},{"./each":12,"./internal/collection":35,"./internal/util":38}],59:[function(e,r){"use strict";function l(e){return _.call(this,e),this._result=Array(this._rest),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e?o:this._coll[r],0==--this._rest?this._promise._resolve(a(this._result)):0<this._callRest--&&this._iterate()}function i(e,r){this._result[r]=e?o:this._coll[this._keys[r]],0==--this._rest?this._promise._resolve(a(this._result)):0<this._callRest--&&this._iterate()}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection"),{INTERNAL:o,compactArray:a}=e("./internal/util");class c extends s{constructor(e,r,t){super(e,r,t,l)}}r.exports={rejectLimit:function(e,r,l){return new c(e,r,l)._execute()},RejectLimit:c}},{"./eachLimit":13,"./internal/collection":35,"./internal/util":38}],60:[function(e,r){"use strict";function l(e){return _.call(this,e),this._result=Array(this._rest),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e?o:this._coll[r],0==--this._rest?this._promise._resolve(a(this._result)):this._iterate()}function i(e,r){this._result[r]=e?o:this._coll[this._keys[r]],0==--this._rest?this._promise._resolve(a(this._result)):this._iterate()}const{EachSeries:s}=e("./eachSeries"),{setSeries:_}=e("./internal/collection"),{INTERNAL:o,compactArray:a}=e("./internal/util");class c extends s{constructor(e,r){super(e,r,l)}}r.exports={rejectSeries:function(e,r){return new c(e,r)._execute()},RejectSeries:c}},{"./eachSeries":14,"./internal/collection":35,"./internal/util":38}],61:[function(e,r){"use strict";const{AigleProxy:l}=e("aigle-core"),t=e("./aigle"),{INTERNAL:i,call0:s,callProxyReciever:_}=e("./internal/util");class o extends l{constructor(e,r){super(),this._promise=new t(i),this._rest=r,this._handler=e,this._iterate()}_iterate(){_(s(this._handler),this,void 0)}_callResolve(e){this._promise._resolve(e)}_callReject(e){0==--this._rest?this._promise._reject(e):this._iterate()}}r.exports=function(e,r){return"function"==typeof e&&(r=e,e=5),new o(r,e)._promise}},{"./aigle":2,"./internal/util":38,"aigle-core":78}],62:[function(e,r){"use strict";const{Each:l}=e("./each"),{setShorthand:t}=e("./internal/collection");class i extends l{constructor(e,r){super(e,r,t),this._result=!1}_callResolve(e){e?this._promise._resolve(!0):0==--this._rest&&this._promise._resolve(!1)}}r.exports={some:function(e,r){return new i(e,r)._execute()},Some:i}},{"./each":12,"./internal/collection":35}],63:[function(e,r){"use strict";const{EachLimit:l}=e("./eachLimit");class t extends l{constructor(e,r,l){super(e,r,l),this._result=!1}_callResolve(e){e?this._promise._resolve(!0):0==--this._rest?this._promise._resolve(!1):0<this._callRest--&&this._iterate()}}r.exports={someLimit:function(e,r,l){return new t(e,r,l)._execute()},SomeLimit:t}},{"./eachLimit":13}],64:[function(e,r){"use strict";const{EachSeries:l}=e("./eachSeries.js");class t extends l{constructor(e,r){super(e,r),this._result=!1}_callResolve(e){e?this._promise._resolve(!0):0==--this._rest?this._promise._resolve(!1):this._iterate()}}r.exports={someSeries:function(e,r){return new t(e,r)._execute()},SomeSeries:t}},{"./eachSeries.js":14}],65:[function(e,r){"use strict";function l(e){return _.call(this,e),this._result=Array(this._rest),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e,0==--this._rest&&this._promise._resolve(o(this._coll,this._result))}function i(e,r){this._result[r]=e,0==--this._rest&&this._promise._resolve(a(this._coll,this._keys,this._result))}const{Each:s}=e("./each"),{setShorthand:_}=e("./internal/collection"),{sortArray:o,sortObject:a}=e("./internal/util");class c extends s{constructor(e,r){super(e,r,l)}}r.exports={sortBy:function(e,r){return new c(e,r)._execute()},SortBy:c}},{"./each":12,"./internal/collection":35,"./internal/util":38}],66:[function(e,r){"use strict";function l(e){return _.call(this,e),this._result=Array(this._rest),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(o(this._coll,this._result)):0<this._callRest--&&this._iterate()}function i(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(a(this._coll,this._keys,this._result)):0<this._callRest--&&this._iterate()}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection"),{sortArray:o,sortObject:a}=e("./internal/util");class c extends s{constructor(e,r,t){super(e,r,t,l)}}r.exports={sortByLimit:function(e,r,l){return new c(e,r,l)._execute()},SortByLimit:c}},{"./eachLimit":13,"./internal/collection":35,"./internal/util":38}],67:[function(e,r){"use strict";function l(e){return _.call(this,e),this._result=Array(this._rest),this._callResolve=void 0===this._keys?t:i,this}function t(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(o(this._coll,this._result)):this._iterate()}function i(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(a(this._coll,this._keys,this._result)):this._iterate()}const{EachSeries:s}=e("./eachSeries"),{setSeries:_}=e("./internal/collection"),{sortArray:o,sortObject:a}=e("./internal/util");class c extends s{constructor(e,r){super(e,r,l)}}r.exports={sortBySeries:function(e,r){return new c(e,r)._execute()},SortBySeries:c}},{"./eachSeries":14,"./internal/collection":35,"./internal/util":38}],68:[function(e,r){"use strict";const{AigleProxy:l}=e("aigle-core"),t=e("./aigle"),{TimeoutError:i}=e("./error"),{INTERNAL:s}=e("./internal/util");r.exports=class extends l{constructor(e,r){super(),this._promise=new t(s),this._message=r,this._timer=setTimeout(()=>{r?this._callReject(r):this._callReject(new i("operation timed out"))},e)}_callResolve(e){clearTimeout(this._timer),this._promise._resolve(e)}_callReject(e){clearTimeout(this._timer),this._promise._reject(e)}}},{"./aigle":2,"./error":15,"./internal/util":38,"aigle-core":78}],69:[function(e,r){"use strict";function l(e){e=0|+e,1<=e?(this._rest=e,this._result=Array(e)):(this._rest=0,this._result=[])}function t(e){this._callResolve=this._rest,l.call(this,e),this._execute()}const{AigleProxy:i}=e("aigle-core"),s=e("./aigle"),{INTERNAL:_,PENDING:o,defaultIterator:a,call1:c,callProxyReciever:n}=e("./internal/util");class u extends i{constructor(e,r){super(),this._promise=new s(_),this._iterator="function"==typeof r?r:a,this._rest=void 0,this._result=void 0,e===o?(this._rest=this._callResolve,this._callResolve=t):l.call(this,e)}_execute(){if(1<=this._rest){const{_rest:e,_iterator:r}=this;for(let l=-1;++l<e&&n(c(r,l),this,l););}else this._promise._resolve(this._result);return this._promise}_callResolve(e,r){this._result[r]=e,0==--this._rest&&this._promise._resolve(this._result)}_callReject(e){this._promise._reject(e)}}r.exports={times:function(e,r){return new u(e,r)._execute()},Times:u,set:l,execute:t}},{"./aigle":2,"./internal/util":38,"aigle-core":78}],70:[function(e,r){"use strict";function l(e){if(e=0|+e,1<=e){this._rest=e,this._result=Array(e);const{_limit:r}=this;this._limit=r<e?r:e,this._callRest=e-this._limit}else this._rest=0,this._result=[]}function t(e){this._callResolve=this._rest,l.call(this,e),this._execute()}const{AigleProxy:i}=e("aigle-core"),s=e("./aigle"),{INTERNAL:_,PENDING:o,DEFAULT_LIMIT:a,defaultIterator:c,call1:n,callProxyReciever:u}=e("./internal/util");class m extends i{constructor(e,r,i){super(),"function"==typeof r&&(i=r,r=a),this._promise=new s(_),this._index=0,this._limit=r,this._iterator="function"==typeof i?i:c,this._rest=void 0,this._result=void 0,this._callRest=void 0,e===o?(this._rest=this._callResolve,this._callResolve=t):l.call(this,e)}_execute(){if(0===this._rest)this._promise._resolve(this._result);else for(;this._limit--;)this._iterate();return this._promise}_iterate(){const e=this._index++;u(n(this._iterator,e),this,e)}_callResolve(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}_callReject(e){this._callRest=0,this._promise._reject(e)}}r.exports={timesLimit:function(e,r,l){return new m(e,r,l)._execute()},TimesLimit:m}},{"./aigle":2,"./internal/util":38,"aigle-core":78}],71:[function(e,r){"use strict";const{AigleProxy:l}=e("aigle-core"),t=e("./aigle"),{set:i,execute:s}=e("./times"),{INTERNAL:_,PENDING:o,defaultIterator:a,call1:c,callProxyReciever:n}=e("./internal/util");class u extends l{constructor(e,r){super(),this._promise=new t(_),this._iterator="function"==typeof r?r:a,this._index=0,this._rest=void 0,this._result=void 0,e===o?(this._rest=this._callResolve,this._callResolve=s):i.call(this,e)}_execute(){return 1<=this._rest?this._iterate():this._promise._resolve(this._result),this._promise}_iterate(){const e=this._index++;n(c(this._iterator,e),this,e)}_callResolve(e,r){this._result[r]=e,0==--this._rest?this._promise._resolve(this._result):this._iterate()}_callReject(e){this._promise._reject(e)}}r.exports={timesSeries:function(e,r){return new u(e,r)._execute()},TimesSeries:u}},{"./aigle":2,"./internal/util":38,"./times":69,"aigle-core":78}],72:[function(e,r){"use strict";function l(e){return _.call(this,e),void 0!==this._keys||void 0===this._coll?(void 0===this._result&&(this._result={}),this._iterate=i):(void 0===this._result&&(this._result=[]),this._iterate=t),this}function t(){const{_rest:e,_result:r,_iterator:l,_coll:t}=this;for(let s=-1;++s<e&&a(o(l,r,t[s],s),this,s););}function i(){const{_rest:e,_result:r,_iterator:l,_coll:t,_keys:s}=this;for(let _=-1;++_<e;){const e=s[_];if(!1===a(o(l,r,t[e],e),this,_))break}}const{Each:s}=e("./each"),{setParallel:_}=e("./internal/collection"),{call3:o,callProxyReciever:a,clone:c}=e("./internal/util");class n extends s{constructor(e,r,t){super(e,r,l),t!==void 0&&(this._result=t)}_callResolve(e){!1===e?this._promise._resolve(c(this._result)):0==--this._rest&&this._promise._resolve(this._result)}}r.exports={transform:function(e,r,l){return new n(e,r,l)._execute()},Transform:n}},{"./each":12,"./internal/collection":35,"./internal/util":38}],73:[function(e,r){"use strict";function l(e){return _.call(this,e),void 0!==this._keys||void 0===this._coll?(void 0===this._result&&(this._result={}),this._iterate=i):(void 0===this._result&&(this._result=[]),this._iterate=t),this}function t(){const e=this._index++;c(a(this._iterator,this._result,this._coll[e],e),this,e)}function i(){const e=this._index++,r=this._keys[e];c(a(this._iterator,this._result,this._coll[r],r),this,e)}const{EachLimit:s}=e("./eachLimit"),{setLimit:_}=e("./internal/collection"),{DEFAULT_LIMIT:o,call3:a,callProxyReciever:c,clone:n}=e("./internal/util");class u extends s{constructor(e,r,t,i){"function"==typeof r&&(i=t,t=r,r=o),super(e,r,t,l),i!==void 0&&(this._result=i)}_callResolve(e){!1===e?this._promise._resolve(n(this._result)):0==--this._rest?this._promise._resolve(this._result):0<this._callRest--&&this._iterate()}}r.exports={transformLimit:function(e,r,l,t){return new u(e,r,l,t)._execute()},TransformLimit:u}},{"./eachLimit":13,"./internal/collection":35,"./internal/util":38}],74:[function(e,r){"use strict";function l(e){return _.call(this,e),void 0!==this._keys||void 0===this._coll?(void 0===this._result&&(this._result={}),this._iterate=i):(void 0===this._result&&(this._result=[]),this._iterate=t),this}function t(){const e=this._index++;a(o(this._iterator,this._result,this._coll[e],e),this,e)}function i(){const e=this._index++,r=this._keys[e];a(o(this._iterator,this._result,this._coll[r],r),this,e)}const{EachSeries:s}=e("./eachSeries"),{setSeries:_}=e("./internal/collection"),{call3:o,callProxyReciever:a,clone:c}=e("./internal/util");class n extends s{constructor(e,r,t){super(e,r,l),t!==void 0&&(this._result=t)}_callResolve(e){!1===e?this._promise._resolve(c(this._result)):0==--this._rest?this._promise._resolve(this._result):this._iterate()}}r.exports={transformSeries:function(e,r,l){return new n(e,r,l)._execute()},TransformSeries:n}},{"./eachSeries":14,"./internal/collection":35,"./internal/util":38}],75:[function(e,r){"use strict";const{AigleWhilst:l,WhilstTester:t}=e("./whilst");class i extends t{constructor(e){super(e)}_callResolve(e){e?this._proxy._promise._resolve(this._value):this._proxy._next(this._value)}}r.exports={until:function(e,r,t){return"function"!=typeof t&&(t=r,r=e,e=void 0),new l(new i(r),t)._iterate(e)},UntilTester:i}},{"./whilst":77}],76:[function(e,r){"use strict";const{AigleProxy:l}=e("aigle-core"),t=e("./aigle"),{INTERNAL:i,apply:s,call1:_,callProxyReciever:o}=e("./internal/util"),a={};class c{constructor(e,r){this._promise=e,this._handler=r}_dispose(){const{_promise:e}=this;switch(e._resolved){case 0:return e.then(()=>this._dispose());case 1:return _(this._handler,this._promise._value);}}}class n extends l{constructor(e,r){super();const l=e.length;this._promise=new t(i),this._rest=l,this._disposed=l,this._array=e,this._error=void 0,this._result=Array(l),this._handler=r;for(let t=-1;++t<l;){const r=e[t];!1==r instanceof c?o(r,this,t):o(r._promise,this,t)}}_spread(){const{_handler:e,_result:r}=this;return"function"==typeof e?void o(s(e,r),this,i):this._callResolve(void 0,i)}_release(){const{_array:e}=this;for(let r=e.length;r--;){const l=e[r];!1==l instanceof c?this._callResolve(l,a):o(l._dispose(),this,a)}}_callResolve(e,r){return r===i?(this._result=e,this._release()):r===a?void(0==--this._disposed&&(this._error?this._promise._reject(this._error):this._promise._resolve(this._result))):void(this._result[r]=e,0==--this._rest&&this._spread())}_callReject(e){return this._error?this._promise._reject(e):void(this._error=e,this._release())}}r.exports={using:function(){let e=arguments.length;const r=arguments[--e],l=Array(e);for(;e--;)l[e]=arguments[e];return new n(l,r)._promise},Disposer:c}},{"./aigle":2,"./internal/util":38,"aigle-core":78}],77:[function(e,r){"use strict";const{AigleProxy:l}=e("aigle-core"),t=e("./aigle"),{INTERNAL:i,callProxyReciever:s,call1:_}=e("./internal/util");class o extends l{constructor(e){super(),this._tester=e,this._proxy=void 0,this._value=void 0}_test(e){this._value=e,s(_(this._tester,e),this,void 0)}_callResolve(e){e?this._proxy._next(this._value):this._proxy._promise._resolve(this._value)}_callReject(e){this._proxy._callReject(e)}}class a extends l{constructor(e,r){super(),this._promise=new t(i),this._tester=e,this._iterator=r,e._proxy=this}_iterate(e){return this._callResolve(e),this._promise}_next(e){s(_(this._iterator,e),this,void 0)}_callResolve(e){this._tester._test(e)}_callReject(e){this._promise._reject(e)}}r.exports={whilst:function(e,r,l){return"function"!=typeof l&&(l=r,r=e,e=void 0),new a(new o(r),l)._iterate(e)},AigleWhilst:a,WhilstTester:o}},{"./aigle":2,"./internal/util":38,"aigle-core":78}],78:[function(e,r){"use strict";r.exports={AigleCore:class{constructor(){}},AigleProxy:class{constructor(){}}}},{}],79:[function(e,r){function l(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(r){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}function i(e){if(u===clearTimeout)return clearTimeout(e);if((u===t||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(r){try{return u.call(null,e)}catch(r){return u.call(this,e)}}}function _(){v&&p&&(v=!1,p.length?d=p.concat(d):y=-1,d.length&&o())}function o(){if(!v){var e=s(_);v=!0;for(var r=d.length;r;){for(p=d,d=[];++y<r;)p&&p[y].run();y=-1,r=d.length}p=null,v=!1,i(e)}}function a(e,r){this.fun=e,this.array=r}function c(){}var n,u,m=r.exports={};(function(){try{n="function"==typeof setTimeout?setTimeout:l}catch(r){n=l}try{u="function"==typeof clearTimeout?clearTimeout:t}catch(r){u=t}})();var p,d=[],v=!1,y=-1;m.nextTick=function(e){var r=Array(arguments.length-1);if(1<arguments.length)for(var l=1;l<arguments.length;l++)r[l-1]=arguments[l];d.push(new a(e,r)),1!==d.length||v||s(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=c,m.addListener=c,m.once=c,m.off=c,m.removeListener=c,m.removeAllListeners=c,m.emit=c,m.prependListener=c,m.prependOnceListener=c,m.listeners=function(){return[]},m.binding=function(){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],80:[function(e){(function(e,r){(function(r){"use strict";function l(e){"function"!=typeof e&&(e=new Function(""+e));for(var r=Array(arguments.length-1),l=0;l<r.length;l++)r[l]=arguments[l+1];var t={callback:e,args:r};return d[p]=t,m(p),p++}function t(e){delete d[e]}function i(e){var r=e.callback,l=e.args;switch(l.length){case 0:r();break;case 1:r(l[0]);break;case 2:r(l[0],l[1]);break;case 3:r(l[0],l[1],l[2]);break;default:r.apply(void 0,l);}}function s(e){if(v)setTimeout(s,0,e);else{var r=d[e];if(r){v=!0;try{i(r)}finally{t(e),v=!1}}}}function _(){m=function(r){e.nextTick(function(){s(r)})}}function o(){if(r.postMessage&&!r.importScripts){var e=!0,l=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage("","*"),r.onmessage=l,e}}function a(){var e="setImmediate$"+Math.random()+"$",l=function(l){l.source===r&&"string"==typeof l.data&&0===l.data.indexOf(e)&&s(+l.data.slice(e.length))};r.addEventListener?r.addEventListener("message",l,!1):r.attachEvent("onmessage",l),m=function(l){r.postMessage(e+l,"*")}}function c(){var e=new MessageChannel;e.port1.onmessage=function(e){var r=e.data;s(r)},m=function(r){e.port2.postMessage(r)}}function n(){var e=y.documentElement;m=function(r){var l=y.createElement("script");l.onreadystatechange=function(){s(r),l.onreadystatechange=null,e.removeChild(l),l=null},e.appendChild(l)}}function u(){m=function(e){setTimeout(s,0,e)}}if(!r.setImmediate){var m,p=1,d={},v=!1,y=r.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(r);x=x&&x.setTimeout?x:r,"[object process]"==={}.toString.call(r.process)?_():o()?a():r.MessageChannel?c():y&&"onreadystatechange"in y.createElement("script")?n():u(),x.setImmediate=l,x.clearImmediate=t}})("undefined"==typeof self?"undefined"==typeof r?this:r:self)}).call(this,e("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{_process:79}],81:[function(e,r){r.exports={name:"aigle",version:"1.9.1",description:"Aigle is an ideal Promise library, faster and more functional than other Promise libraries",main:"index.js",private:!0,browser:"browser.js",scripts:{bench:"node --expose_gc ./benchmark -d",eslint:"eslint . --ext .js","test:only":"mocha test/**/*.js",test:"npm run eslint && DELAY=50 istanbul cover ./node_modules/.bin/_mocha --report lcovonly -- -R spec ./test --recursive && codecov"},keywords:["aigle","promise","async"],files:["README.md","index.js","lib/","browser.js","dist/"],author:"Suguru Motegi",license:"MIT",devDependencies:{babili:"0.1.4",benchmark:"^2.1.1",bluebird:"^3.5.1",browserify:"^14.5.0",buble:"^0.17.0",codecov:"^3.0.0",docdash:"^0.4.0",eslint:"^4.11.0","fs-extra":"^4.0.2",gulp:"^3.9.1","gulp-bump":"^2.8.0","gulp-git":"^2.4.2","gulp-tag-version":"^1.3.0",istanbul:"^0.4.5",jsdoc:"^3.5.5",lodash:"^4.15.0",minimist:"^1.2.0",mocha:"^3.5.3","mocha.parallel":"^0.15.3","neo-async":"^2.5.0","require-dir":"^0.3.1","run-sequence":"^2.0.0",setimmediate:"^1.0.5","uglify-js":"^3.1.5"},dependencies:{"aigle-core":"^1.0.0"}}},{}]},{},[1])(1)});

